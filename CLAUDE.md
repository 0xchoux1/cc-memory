# cc-memory 使用ルール

このプロジェクトでは cc-memory MCP サーバーが有効になっています。

## セッション開始時の記憶呼び出し

**重要**: 新しいセッションでユーザーの最初のメッセージを受け取ったら、以下を実行すること：

1. `memory_recall` でユーザーの発言に関連する記憶を検索
2. `semantic_search` でユーザーの好みや設定を確認
3. 検索結果を踏まえて応答する

```
# 例: ユーザーが「認証機能を実装して」と言った場合
memory_recall(query="認証 実装")
semantic_search(type="preference")
```

## 記憶の保存タイミング

以下のタイミングで記憶を保存すること：

| 状況 | 使用ツール | 例 |
|------|-----------|-----|
| ユーザーの好み・設定を学んだ | `semantic_create` (type: preference) | コードスタイル、使用ツール |
| 重要な事実を学んだ | `semantic_create` (type: fact) | プロジェクト構成、API仕様 |
| タスクが完了した | `episode_record` (type: success/milestone) | 機能実装、バグ修正 |
| エラーを解決した | `episode_record` (type: error) | デバッグ経緯、解決策 |
| パターンを発見した | `semantic_create` (type: pattern) | コードパターン、ワークフロー |

## 記憶の優先度

- importance 8-10: 絶対に覚えておくべき（ユーザーの重要な好み、重大なマイルストーン）
- importance 5-7: 一般的な記憶（通常のタスク完了、学んだ事実）
- importance 1-4: 軽微な記憶（小さな修正、一時的な情報）

---

# Claude Code 開発完了ワークフロー設定

このプロジェクトでは Claude Code の開発完了ワークフローが有効になっています。

## 使用方法

### 基本的な使用方法
```bash
# 開発完了ワークフローを実行
claude-complete

# 完了条件のみをチェック
claude-check

# ドライランを実行（実際の変更は行わない）
claude-dry-run
```

### 設定のカスタマイズ
```bash
# 設定ファイルを編集
claude-config

# ワークフロー定義を編集
claude-workflow
```

## 完了条件

以下の条件をすべて満たした場合に、開発完了ワークフローが実行されます：

1. **テスト**: 全テストがパス
2. **Lint**: コードスタイルチェックが通過
3. **ビルド**: ビルドが成功
4. **Git**: 未コミットの変更が存在

## 実行内容

1. 完了条件のチェック
2. 変更内容の分析
3. README.md更新の提案
4. 適切なコミットメッセージの生成
5. ユーザー確認後のコミット実行
6. リモートリポジトリへのプッシュ

## プロジェクト固有の設定

このセクションでプロジェクト固有の設定を行えます：

```json
{
  "test_command": "npm test",
  "lint_command": "npm run lint",
  "build_command": "npm run build",
  "auto_push": false
}
```

## 注意事項

- このワークフローは確認なしに自動実行されません
- 各ステップでユーザーの確認が求められます
- バックアップブランチが自動作成されます
